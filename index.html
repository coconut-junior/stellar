<!DOCTYPE html>
<html>
    <head>
        <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self';"> -->
        <link rel = "stylesheet" href = "fonts/cabinet-grotesk.css">
        <link rel = "stylesheet" href = "style.css">
        <link rel = "icon" type = "image/x-icon" href = "images/favicon.ico">

        <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
        <script src = "titlebar.js"></script>
        <script src = "renderer.js" defer></script>
        <script src = "indesign_io.js" defer></script>
        <script src = "lytho.js" defer></script>
        <script src = "resource_monitoring.js" defer></script>
        <script src = "navigation.js" defer></script>
        <script src = "fingerprinting.js" defer></script>
    </head>
    <body>

        <a id = "downloadLink" style = "display: none;">download</a>
        <div class = "wrapper" id = "searchPage" data-tab-page>

            <div class = "toolbar">
                <div style = "display: flex;flex-direction: row;gap: 10px;width:100%;align-items: left;">
                    <h1 style = "padding:0;margin:auto;margin-left:40px;margin-right:40px;">Product Search</h1>
                    <input id = "searchBox" type="search" placeholder = "Search" oninput = "search()">
                    <!-- <button id = "searchButton" onclick="search()">Search</button> -->
                    <div class = "viewToggle" onclick = "toggleView()">
                        <div class = "toggleSwitch"></div>
                    </div>
                    
                </div>

                
            </div>

            <div class = "workingArea">
                <div class = "resultBox"></div>
                <div class = "adBuilder">
                    <h1>Ad Builder</h1>
                    <ul id = "adList"></ul>
                    <div id="drop_zone" ondragstart = "dragStart(event)" ondragend = "dragEnd(event)" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" ondragleave="dragLeave()">
                        <p style = "text-align: center;padding: 10px;">Drop products here to start a list ...</p>
                    </div>
                    <button onclick = "buildAd()">&#9889; Create Document</button>
                </div>
            </div>
        </div>

        <div class = "active wrapper" id = "automationPage" data-tab-page>
                <div id = "automationStatus">
                    <h1>Automations</h1>
                    <div id = "resourceMonitor">
                        <h2 style = "writing-mode:vertical-lr;text-orientation:sideways;padding: 5px;">CPU</h2>
                        <div class = "resourceMeter" style = "width: 45px;border-radius: 0px 0px 15px 0px;left:2px;">
                            <div class = "meterFill" id = "cpuMeter"></div>
                        </div>
                        <div class = "resourceMeter">
                            <p id = "cpuPercent" class = "segmentedText"></p>
                        </div>

                        <h2 style = "writing-mode:vertical-lr;text-orientation:sideways;padding: 5px;">RAM</h2>

                        <div class = "resourceMeter" style = "width: 45px;border-radius: 0px 0px 15px 0px;left:2px;">
                            <div class = "meterFill" id = "ramMeter"></div>
                        </div>
                        <div class = "resourceMeter">
                            <p id = "memUsage" class = "segmentedText"></p>
                        </div>
                        
                    </div>

                    
                </div>

                <div class = "cardGroup" id = "automationTasks">
                    <div class="result" id = "idScript999" style = "padding:10px;width:auto;position:relative;height:100px;margin:0;">
                        <button onclick = "alert('Build Flyer \\n\\n ${description}')" class = "navButton navInfo" style = "background-color:none;border:none;height:30px;width:30px;position:absolute;top:10px;right:10px;"></button>

                        <h2 style = "padding:5px;" class = "productTitle">Build Flyer</h2>
                        <p class = "resultEntry" style = "text-align:center;">Version: 1.0</p>
                        <div style = "display:flex;flex-direction:row;gap:10px;justify-content:center;">
                            <button class = "primary" style = "width:190px;" onclick = "buildFlyer()">&#9889; Launch</button>
                            <!--<button onclick = "alert('This feature is coming soon!')">&#x23F0;<br>Schedule</button>-->
                        </div>
                    </div>
                </div>

            <div class = "statusBar">Updating automations...</div>

        </div>

        <div class = "wrapper" id = "settingsPage" data-tab-page>
            <div style = "display: flex;flex-direction: column;align-items:center;justify-content: center;padding: 40px;">
                <h1 style = "margin:auto;text-align: center;">Settings</h1>
                <br>
                <p id = "fingerprint">Device Fingerprint:</p>
            </div>
        </div>

        
        <div id = "betaIcon"></div>

        <ul class = "navigation">
            <li id = "navLogo" title = "Stellar" onclick="showAbout()"></li>
            <li class = "navButton navSearch" active = "false" id = "" title = "Product Search" onclick = "alert('This feature is under construction!')" data-tab-target = "#searchPage"></li>
            <li class = "navButton navAutomation" active = "true" id = "" title = "Automation Dashboard" data-tab-target = "#automationPage"></li>
            <li class = "navButton navSettings" active = "false" id = "" title = "Settings" data-tab-target = "#settingsPage"></li>
            <li class = "navButton navInfo" active = "false" id = "" title = "About" onclick="showAbout()"></li>
            
        </ul>
            
    </body>
</html>