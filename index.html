<!DOCTYPE html>
<html>
    <head>
        <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self';"> -->
        <link rel = "stylesheet" href = "fonts/cabinet-grotesk.css">
        <link rel = "stylesheet" href = "style.css">
        <link rel = "icon" type = "image/x-icon" href = "images/favicon.ico">

        <script src = "titlebar.js"></script>
        <script src = "renderer.js" defer></script>
        <script src = "indesign_io.js" defer></script>
        <script src = "lytho.js" defer></script>
        <script src = "resource_monitoring.js" defer></script>
        <script src = "navigation.js" defer></script>
        <script src = "fingerprinting.js" defer></script>
    </head>
    <body>

        <a id = "downloadLink" style = "display: none;">download</a>
        <div class = "wrapper" id = "searchPage" data-tab-page>

            <div class = "toolbar">
                <div style = "display: flex;flex-direction: row;gap: 10px;width:100%;align-items: left;">
                    <h1 style = "padding:0;margin:auto;margin-left:40px;margin-right:40px;">Product Search</h1>
                    <input id = "searchBox" type="search" placeholder = "Search" oninput = "search()">
                    <div class = "viewToggle" onclick = "toggleView()">
                        <div class = "toggleSwitch"></div>
                    </div>
                </div>
            </div>

            <div class = "workingArea">
                <div class = "resultBox"></div>
                <div class = "adBuilder">
                    <h1>Ad Builder</h1>
                    <ul id = "adList"></ul>
                    <div id="drop_zone" ondragstart = "dragStart(event)" ondragend = "dragEnd(event)" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" ondragleave="dragLeave()">
                        <p style = "text-align: center;padding: 10px;">Drop products here to start a list ...</p>
                    </div>
                    <button onclick = "buildAd()">&#9889; Create Document</button>
                </div>
            </div>
        </div>

        <div class = "active wrapper" id = "automationPage" data-tab-page>
                <div id = "automationStatus" status = "loading">
                    <h1 style = "grid-area: title;">Automation</h1>
                    <div id = "resourceMonitor" style = "grid-area: meter;">
                        <h2 style = "writing-mode:vertical-lr;text-orientation:sideways;padding: 5px;">CPU</h2>
                        <div class = "resourceMeter" style = "width: 45px;border-radius: 0px 0px 15px 0px;left:2px;">
                            <div class = "meterFill" id = "cpuMeter"></div>
                        </div>
                        <div class = "resourceMeter">
                            <p id = "cpuPercent" class = "segmentedText"></p>
                        </div>

                        <h2 style = "writing-mode:vertical-lr;text-orientation:sideways;padding: 5px;">RAM</h2>

                        <div class = "resourceMeter" style = "width: 45px;border-radius: 0px 0px 15px 0px;left:2px;">
                            <div class = "meterFill" id = "ramMeter"></div>
                        </div>
                        <div class = "resourceMeter">
                            <p id = "memUsage" class = "segmentedText"></p>
                        </div>
                        
                    </div>

                    <input id = "automationSearch" type = "search" placeholder = "Search automations..." style = "grid-area: search">
                    
                </div>

                <div class = "cardGroup" status = "loading" id = "automationTasks">


                    <div class="result" id = "idScript999" name = "Build Flyer" style = "padding:10px;width:auto;position:relative;margin:0;">
                        <button id = "buildFlyerInfo" class = "navButton navInfo" style = "background-color:none;border:none;height:30px;width:30px;position:absolute;top:10px;right:10px;background-position: center;"></button>

                        <h2 style = "padding:5px;" class = "productTitle">Build Flyer</h2>
                        <p class = "resultEntry" style = "text-align:center;">Version: 2.0</p>
                        <div class="resultButtons" style = "grid-template-columns: 1fr;">
                            <button class = "primary" id = "buildFlyerButton">&#9889; Launch</button>
                            <!--<button onclick = "alert('This feature is coming soon!')">&#x23F0;<br>Schedule</button>-->
                        </div>
                    </div>
                </div>

            <div class = "statusBar">Updating automations...</div>

        </div>

        <div class = "wrapper" id = "settingsPage" data-tab-page>
            <div style = "display: flex;flex-direction: column;align-items:center;justify-content: center;padding: 40px;">
                <h1 style = "margin:auto;text-align: center;">Settings</h1>
                <br>
                <table>
                    <tr>
                        <td>Device fingerprint</td>
                        <td id = "fingerprint">Undefined</td>
                    </tr>
                    <tr>
                        <td>API key</td>
                        <td id = "apiKey">Undefined</td>
                    </tr>
                    <tr>
                        <td>Appearance</td>
                        <td>
                            <select name="appearance" id="appearanceDropdown">
                                <option value="system">Auto</option>
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Minimize after launch</td>
                        <td>
                            <select name="minimize" id="minimizeDropdown">
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- <div id = "betaIcon"></div> -->

        <ul class = "navigation">
            <li id = "navLogo" title = "Stellar" onclick="showAbout()"></li>
            <li class = "navButton navSearch" active = "false" id = "" title = "Product Search" onclick = "showError('This feature is still under construction!')">
                <p>Search</p>
            </li>
            <li class = "navButton navAutomation" active = "true" id = "" title = "Automation Dashboard" data-tab-target = "#automationPage">
                <p>Automation</p>
            </li>
            <li class = "navButton navSettings" active = "false" id = "" title = "Settings" data-tab-target = "#settingsPage">
                <p>Settings</p>
            </li>
            <li class = "navButton navInfo" active = "false" id = "" title = "About" onclick="showAbout()">
                <p>About</p>
            </li>
        </ul>
            
    </body>
</html>